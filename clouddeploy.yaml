apiVersion: deploy.cloud.google.com/v1
kind: DeliveryPipeline
metadata:
  name: my-run-demo-app-1
description: main application pipeline
serialPipeline:
  stages:
  - targetId: all-services
    profiles: ["dev", "dev1"]
---
apiVersion: deploy.cloud.google.com/v1
kind: Target
metadata:
  name: all-services
description: Deploy all Cloud Run services in parallel
multiTarget:
  targetIds:
    - run-qsdev
---
apiVersion: deploy.cloud.google.com/v1
kind: Target
metadata:
  name: run-qsdev
description: Cloud Run development service
run:
  # The 'location' field for a Cloud Run target should be in the format 'projects/PROJECT_ID/locations/REGION'.
  # You've currently provided 'projects/prj-d-playground-shj9/locations/asia-southeast1'.
  # While this includes the project ID, it's more conventional and often expected
  # to just provide the region directly in the 'location' field within the 'run' block,
  # and let the 'gcloud deploy' command infer the project from your gcloud config
  # or from the --project flag.
  # However, the provided format *should* still work if that's your project ID.
  location: projects/prj-d-playground-shj9/locations/asia-southeast1